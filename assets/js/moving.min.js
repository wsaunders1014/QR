function next_step(e){"step-1-button"==e&&($("#from-zip-code").validationEngine("validate")||($("#step1").hide(),$("#step2").show("slide",{direction:"left"},600,function(){$("#step-1-button").removeClass("current-step"),$("#step-2-button").addClass("current-step"),$("#to-zip-code").focus()}))),"step-2-button"==e&&($("#to-zip-code").validationEngine("validate")||$("#move-date").validationEngine("validate")||$("#move-size").validationEngine("validate")||($("#step2").hide(),$("#step3").show("slide",{direction:"left"},600,function(){$("#first-name").focus(),$("#step-2-button").removeClass("current-step"),$("#step-3-button").addClass("current-step")})))}function calculateDistances(){var e="90036",t="90210";""!=$("#zip_from").val()&&(e=$("#zip_from").val()),""!=$("#zip_to").val()&&(t=$("#zip_to").val());var o=new google.maps.DistanceMatrixService;o.getDistanceMatrix({origins:[e],destinations:[t],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},callback)}function callback(e,t){if(t!=google.maps.DistanceMatrixStatus.OK)alert("Error: Please try again at a later time.");else{var o=e.originAddresses,n=e.destinationAddresses,i="",a=o.toString(),s=n.toString();if(a.match(/\bUSA\b/)&&s.match(/\bUSA\b/))try{for(var r=0;r<o.length;r++)for(var c=e.rows[r].elements,l=0;l<c.length;l++)i+=c[l].distance.text;var d="six bedrooms and more house";""!=$("#number_of_rooms").val()&&(d=$("#number_of_rooms").val()),$.post("/moving/calc",{rooms:d,miles:i},function(e){var t=$.parseJSON(e);setTimeout(function(){$("#quoterange").html("$"+t.min+" - $"+t.max),$(".slide-5-quote div").hide("slide",function(){$(this).next().show("slide",{direction:"right"})})},5)})}catch(e){setTimeout(function(){$("#quoterange").html("Unable to calculate price range, one or more of your locations may not be accessible by moving trucks"),$("#range-loader").hide("blind"),$("#quote-range").show("blind")},5e3)}else setTimeout(function(){$("#quoterange").html("Unable to calculate, Locations may not be in the USA"),$("#range-loader").hide("blind"),$("#quote-range").show("blind")},3e3)}}$(document).ready(function(){if($("#from-zip-code").focus(),$("#moving-form").validationEngine(),$("#move-date").datepicker({minDate:0,maxDate:"+12M +1D",numberOfMonths:2}),$("#phone").mask("(999) 999-9999",{placeholder:""}),$("#from-zip-code").mask("99999",{placeholder:""}),$("#to-zip-code").mask("99999",{placeholder:""}),$("#secondary-from-zip-code").mask("99999",{placeholder:" "}),$(".icon-custom-permission").click(function(){var e=screen.width,t=e-550,o=0;window.open("https://trustsealinfo.verisign.com/splash?form_file=fdf/splash.fdf&dn=www.quoterunner.co&lang=en","VeriSign","width=550,height=380,top="+o+",left="+t)}),$("#countdown").length){var e,t,o,n,i=new Date,a=new Date(i.getTime()+72e5),s=document.getElementById("countdown");setInterval(function(){var i=(new Date).getTime(),r=(a-i)/1e3;e=parseInt(r/86400),r%=86400,t=parseInt(r/3600),r%=3600,o=parseInt(r/60),n=parseInt(r%60),s.innerHTML=o+"m, "+n+"s"},1e3)}$("html,form,input").keypress(function(e){13==e.which&&$(".current-step").click()}),$("#calendar-icon").click(function(){$("#move-date").focus()}),calculateDistances()}),$(".next-step").click(function(){next_step($(this).attr("id"))}),$("#secondary-moving-form").submit(function(e){$("#secondary-from-zip-code").validationEngine("validate")||($("#from-zip-code").val($("#secondary-from-zip-code").val()),$("html, body").animate({scrollTop:0},600),$("#step-1-button").click()),e.preventDefault()});